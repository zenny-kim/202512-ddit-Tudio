package kr.or.ddit.vo.project;

import java.util.Date;
import java.util.List;

import org.springframework.format.annotation.DateTimeFormat;

import com.fasterxml.jackson.annotation.JsonFormat;

import kr.or.ddit.common.code.TaskPriority;
import kr.or.ddit.common.code.TaskStatus;
import lombok.Data;

@Data
public class ProjectTaskVO {
	
	private int taskId;      		                 // 상위업무 일련번호     
    private int projectNo;                           // 프로젝트 일련번호
    private int taskWriter;                          // 상위업무 작성자
    private String taskTitle;                        // 상위업무 제목
    private String taskContent;                      // 상위업무 내용
    private Date taskRegdate;                        // 상위업무 등록일
    
    @JsonFormat(pattern = "yyyy-MM-dd")
    @DateTimeFormat(pattern = "yyyy-MM-dd")
    private Date taskStartdate;                      // 상위업무 시작일
    
    @JsonFormat(pattern = "yyyy-MM-dd")
    @DateTimeFormat(pattern = "yyyy-MM-dd")
    private Date taskEnddate;                        // 상위업무 종료일
                                                     
    private int taskStatus;                          // 상위업무 상태
    private int taskRate;                            // 상위업무 진척도
    private int taskPriority;                        // 상위업무 우선순위
    private int fileGroupNo;                         // 파일번호
    private String taskPinYn;                        // 상위업무 고정여부
    private int taskPinOrder;                        // 상위업무 고정 순서
    private int taskPinMember;                       // 상위업무 고정자
                                                     
    // ===== 조회용 컬럼 =====                       
    private String writerName;			             // 업무 작성자 이름
    
    private List<ProjectTaskManagerVO> taskManagers; // 상위업무 담당자 list
    
    private List<ProjectTaskSubVO> subTasks;		 // 종속된 하위업무 list
    
    private String projectName;		                 // 프로젝트 이름
    private int taskDday;			                 // 상위업무 D-day				
    // ====================
    
    // 업무상태에 관한 enum 메서드 - return: 상태명(label)
    public String getStatusLabel() {
    	TaskStatus status = TaskStatus.from(this.taskStatus);
    	return status.getLabel();
    }
    
    // 업무상태에 관한 enum 메서드 - return: cssClass
    public String getStatusCss() {
    	TaskStatus status = TaskStatus.from(this.taskStatus);
    	return status.getCssClass();
    }

    // 업무중요도에 관한 enum 메서드
    public String getPriorityLabel() {
    	return TaskPriority.from(this.taskPriority);
    }
}                                        
