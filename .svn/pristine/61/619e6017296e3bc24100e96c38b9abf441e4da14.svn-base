<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<style>
.tudio-badge.badge-red {
    background-color: #ffeded;
    color: #ff4d4f;
    border: 1px solid #ffccc7;
}

.tudio-badge.badge-yellow {
    background-color: #fffbe6;
    color: #faad14;
    border: 1px solid #ffe58f;
}

.tudio-badge.badge-blue {
    background-color: #e6f7ff;
    color: #1890ff;
    border: 1px solid #91d5ff;
}

.tudio-badge.badge-default {
    background-color: #f5f5f5;
    color: #8c8c8c;
    border: 1px solid #d9d9d9;
}
.tudio-section .tudio-table-card {
    border-collapse: collapse !important; /* ê°•ì œë¡œ í…Œë‘ë¦¬ í•©ì¹˜ê¸° */
    border-spacing: 0 !important;        /* ê°„ê²© 0ìœ¼ë¡œ ë§Œë“¤ê¸° */
}
</style>
<section class="tudio-section">

	<div class="tudio-section-header">
		<div class="tudio-pills">
			<button class="tudio-pill is-active"  data-category="">ì „ì²´</button>
			<button class="tudio-pill" data-category="NOTICE">ê³µì§€</button>
			<button class="tudio-pill" data-category="FREE">ììœ </button>
			<button class="tudio-pill" data-category="MINUTES">íšŒì˜ë¡</button>
		</div>
		<button class="tudio-btn tudio-btn-primary" type="button" id="btnInsertForm">ê¸€ì“°ê¸°</button>
	</div>

	<div class="tudio-section-filter">
		<div class="d-flex align-items-center gap-3">
			<div style="width: 110px;">
				<select class="form-select form-select-sm" id="searchType">
					<option value="title"<c:if test="${searchType eq 'title' }">selected</c:if>>ì œëª©</option>
					<option value="writer"<c:if test="${searchType eq 'writer' }">selected</c:if>>ì‘ì„±ì</option>
					<option>ë‚´ìš©</option>
				</select>
			</div>

			<div class="tudio-search">
				<input type="text" id="searchWord"  value="${searchWord}" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
				<button id="btnSearch" class="border-0 bg-transparent" aria-label="search">ğŸ”</button>
			</div>

			<div class="text-muted" style="font-size: 13px;">
				ì´ <b class="text-dark" id="totalCnt">0</b>ê±´
			</div>
		</div>
	</div>

	<div class="tudio-table-wrap">
		<table class="tudio-table-card">
			<thead>
				<tr>
					<th class="text-center" style="width: 90px">ê¸€ë²ˆí˜¸</th>
					<th class="text-center" style="width: 90px">êµ¬ë¶„</th>
					<th class="text-center">ì œëª©</th>
					<th class="text-center" style="width: 120px">ì‘ì„±ì</th>
					<th class="text-center" style="width: 140px">ì‘ì„±ì¼</th>
					<th class="text-center" style="width: 90px">ì¡°íšŒìˆ˜</th>
				</tr>
			</thead>
			<tbody id="boardTbody">
			    <c:forEach items="${boardList}" var="board">
			        <c:set var="tempTitle" value="${board.boTitle}" />
			        <c:set var="tempTitle" value="${fn:replace(tempTitle, '[ê³µì§€]', '')}" />
			        <c:set var="tempTitle" value="${fn:replace(tempTitle, '[ììœ ]', '')}" />
			        <c:set var="tempTitle" value="${fn:replace(tempTitle, '[íšŒì˜ë¡]', '')}" />
			        
			        <tr class="row-click">
			            <td class="text-center">${board.boNo}</td>
			            <td class="text-center">
			                <c:choose>
			                    <c:when test="${board.categoryName == 'NOTICE'}">
			                        <span class="tudio-badge badge-red">ê³µì§€</span>
			                    </c:when>
			                    <c:when test="${board.categoryName == 'FREE'}">
			                        <span class="tudio-badge badge-yellow">ììœ </span>
			                    </c:when>
			                    <c:when test="${board.categoryName == 'MINUTES'}">
			                        <span class="tudio-badge badge-blue">íšŒì˜ë¡</span>
			                    </c:when>
			                    <c:otherwise>
			                        <span class="tudio-badge badge-default">ê¸°íƒ€</span>
			                    </c:otherwise>
			                </c:choose>
			            </td>
			            <td class="title" onclick="goDetail(${param.projectNo}, ${board.boNo})">
			                <a href="javascript:void(0);" style="pointer-events: none;" class="text-decoration-none text-dark">
			                    ${fn:trim(tempTitle)}
			                </a>
			            </td>
			            <td class="text-center">${board.memberVO.memberName}</td>
			            <td class="text-center">
			                <c:choose>
			                    <c:when test="${fn:length(board.boRegdate) >= 10}">
			                        ${fn:substring(board.boRegdate, 2, 10)}
			                    </c:when>
			                    <c:otherwise>${board.boRegdate}</c:otherwise>
			                </c:choose>
			            </td>sdfkl90834w 
			            <td class="text-center">${board.boHit}</td>
			        </tr>
			    </c:forEach>
			</tbody>
		</table>
	</div>

	<div class="tudio-pager" id="boardPager"></div>

</section>
<script src="${pageContext.request.contextPath}/js/tabBoard.js"></script>