@charset "UTF-8";

/* -----------------------------------------------------------
   1. 공통 변수 및 기본 설정 (일반 회원 - 좁은 흰색 바 기준)
----------------------------------------------------------- */
:root { 
    --sidebar-width: 90px;      /* 기본: 좁은 폭 */
    --header-height: 60px; 
    --bg-color: #ffffff;        /* 기본: 흰색 배경 */
    --text-color: #64748b;      /* 기본: 회색 글씨 */
    --active-bg: #eff6ff;       /* 기본: 활성 배경(연한 파랑) */
    --active-text: #2563eb;     /* 기본: 활성 글씨(진한 파랑) */
    --hover-bg: #f8fafc;
}

/* -----------------------------------------------------------
   2. 관리자 모드 변수 재정의 (body에 .admin-mode가 있을 때)
   - 이 클래스가 붙으면 변수 값이 자동으로 바뀝니다.
----------------------------------------------------------- */
body.admin-mode {
    --sidebar-width: 260px;     /* 관리자: 넓은 폭 */
    --bg-color: #334155;        /* 관리자: 어두운 남색 배경 */
    --text-color: #cbd5e1;      /* 관리자: 연한 회색 글씨 */
    --active-bg: rgba(255, 255, 255, 0.1); /* 관리자: 반투명 흰색 */
    --active-text: #ffffff;     /* 관리자: 흰색 글씨 */
    --hover-bg: rgba(255, 255, 255, 0.05);
}

/* -----------------------------------------------------------
   3. 레이아웃 (공통 + 변수 적용)
----------------------------------------------------------- */
.sidebar { 
    width: var(--sidebar-width); 
    position: fixed; 
    top: var(--header-height); 
    left: 0; 
    bottom: 0;
    border-right: 1px solid #e2e8f0; 
    background: var(--bg-color); 
    z-index: 100; 
    overflow-y: auto;
    transition: width 0.3s ease, background-color 0.3s ease; /* 부드러운 전환 효과 */
    
    /* 기본(일반 회원)은 중앙 정렬 */
    text-align: center;
    padding-top: 1rem;
}

/* 스크롤바 커스텀 */
.sidebar-main-scroll { height: 100%; overflow-y: auto; padding-bottom: 50px; }
.sidebar-main-scroll::-webkit-scrollbar { width: 5px; }
.sidebar-main-scroll::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius: 3px; }
body.admin-mode .sidebar-main-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); }


/* -----------------------------------------------------------
   4. 링크 스타일 (일반 회원 - 아이콘 위 / 글씨 아래)
----------------------------------------------------------- */
.nav-link {
    color: var(--text-color);
    font-weight: 500;
    padding: 0.75rem 0.25rem;
    display: flex;
    flex-direction: column;     /* 세로 배치 */
    align-items: center;        /* 중앙 정렬 */
    justify-content: center;
    font-size: 0.75rem;         /* 작은 글씨 */
    text-decoration: none;
    transition: all 0.2s;
    margin-bottom: 0.5rem;
    border-right: 3px solid transparent; /* 활성 상태 표시용 */
}

.nav-link i { 
    margin-bottom: 5px;
    font-size: 1.6rem;          /* 큰 아이콘 */
    display: block;
}

.nav-link:hover {
    color: var(--active-text);
    background-color: var(--hover-bg);
}

.nav-link.active {
    color: var(--active-text);
    background-color: var(--active-bg);
    border-right-color: var(--active-text);
}


/* -----------------------------------------------------------
   5. 관리자 모드 전용 스타일 오버라이딩 (.admin-mode 하위)
   - 관리자일 때는 링크 모양을 가로로 바꿈
----------------------------------------------------------- */
body.admin-mode .sidebar {
    text-align: left; /* 왼쪽 정렬로 변경 */
    padding-top: 0;
}

body.admin-mode .nav-link {
    flex-direction: row;        /* 가로 배치 */
    justify-content: flex-start;/* 왼쪽 정렬 */
    padding: 10px 20px 10px 45px;
    font-size: 0.9rem;          /* 글씨 크기 키움 */
    margin-bottom: 0;
    border-right: none;
    border-left: 4px solid transparent; /* 관리자는 왼쪽에 바 */
}

body.admin-mode .nav-link i {
    margin-right: 10px;
    margin-bottom: 0;
    font-size: 1.1rem;          /* 아이콘 크기 줄임 */
}

body.admin-mode .nav-link.active {
    border-left-color: #fff;    /* 왼쪽 활성 바 */
    font-weight: 600;
}


/* -----------------------------------------------------------
   6. 관리자 전용 컴포넌트 (아코디언 등)
   - 일반 회원 화면에는 HTML 자체가 없으므로 그냥 둬도 상관없음
----------------------------------------------------------- */
.sidebar-group-btn { 
    width: 100%; 
    background: none; 
    border: none; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    cursor: pointer; 
    color: #94a3b8; 
    padding: 15px 20px 10px; 
    font-size: 0.75rem; 
    font-weight: 700; 
    text-transform: uppercase; 
    letter-spacing: 1px; 
    transition: color 0.2s; 
}
.sidebar-group-btn:hover { color: #fff; }

.toggle-icon { transition: transform 0.2s ease; font-size: 0.8rem; }
.sidebar-group-btn[aria-expanded="true"] .toggle-icon { transform: rotate(180deg); }

.collapse-inner { background-color: rgba(0, 0, 0, 0.15); padding-bottom: 10px; }