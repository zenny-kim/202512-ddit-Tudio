@charset "UTF-8";

/* =========================================
   1. Design Tokens (변수 정의)
   - 모든 파일에서 공통으로 사용할 색상/수치
   ========================================= */
:root {
	/* [추가됨] 1. 폰트 변수 선언 (pretendard.css에 정의된 이름 사용) */
    --main-font: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
    
    /* Brand Colors */
    --primary-color: #007aff;
    --danger-color: #ff3b30; /* badge-color 통합 */
    
    /* Text Colors */
    --text-primary: #1c1c1e;
    --text-secondary: #8e8e93;
    --text-on-primary: #ffffff;
    
    /* Background Colors */
    --bg-color: #ffffff;
    --bg-secondary: #f2f2f7;
    
    /* Shapes & Effects */
    --radius-lg: 20px;
    --radius-md: 16px;
    --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.12);
    --shadow-floating: 0 4px 12px rgba(0, 122, 255, 0.3);
}

/* =========================================
   2. Global Reset & Utilities
   ========================================= */
/* =========================================
   2. Global Reset & Utilities (Scoped)
   [수정] 전역(*) 선택자를 제거하고 내 구역에만 스타일 적용
   ========================================= */

/* 1. 채팅 관련 최상위 컨테이너들에만 폰트 및 박스 모델 적용 */
.chat-widget,               /* 채팅방, 리스트 */
.floating-chat-container,   /* 메인 플로팅 버튼 */
.new-chat-container-wrapper,/* 새 채팅 모달 래퍼 */
.modal-window,              /* 초대 모달 */
.my-swal-container {        /* 스윗알럿 커스텀 */
    font-family: var(--main-font);
    line-height: 1.5;
}

/* 2. 내 구역 내부의 모든 요소에 box-sizing 적용 (안전 장치) */
.chat-widget *, .chat-widget *::before, .chat-widget *::after,
.floating-chat-container *,
.new-chat-container-wrapper *,
.modal-window *,
.my-swal-container * {
    box-sizing: border-box;
}

/* 3. 폼 요소(input, button 등)는 폰트 상속이 안 되므로 명시적 지정 */
/* :where() 가상 클래스를 사용하면 코드 중복을 줄일 수 있지만, 호환성을 위해 풀어서 작성함 */
.chat-widget input, .chat-widget button, .chat-widget select, .chat-widget textarea,
.floating-chat-container button, 
.modal-window input, .modal-window button,
.my-swal-container input, .my-swal-container button {
    font-family: var(--main-font);
}

/* 스크롤바 숨김 (공통 유틸리티) */
.hide-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none;    /* Firefox */
}
.hide-scrollbar::-webkit-scrollbar {
    display: none;            /* Chrome, Safari, Opera */
}

/* =========================================
   3. Common Components (아바타, 툴팁)
   ========================================= */

/* 아바타 (Avatar) 공통 스타일 */
.default-avatar {
    width: 38px; 
    height: 38px;
    border-radius: 50%;
    display: flex; 
    align-items: center; 
    justify-content: center;
    color: #ffffff;
    flex-shrink: 0;
    font-weight: 600;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
/* 프로필 이미지 */
.profile-img {
    width: 38px; 
    height: 38px;
    border-radius: 50%;
    object-fit: cover;
    flex-shrink: 0;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* 아바타 랜덤 배경색 (list, chatroom 공통) */
.avatar-color-0 { background-color: #FF9F0A; }
.avatar-color-1 { background-color: #30D158; }
.avatar-color-2 { background-color: #0A84FF; }
.avatar-color-3 { background-color: #BF5AF2; }
.avatar-color-4 { background-color: #FF375F; }

/* 툴팁 (Tooltip) - list.css와 chatroom.css 중복 완벽 제거 */
[data-tooltip] {
    position: relative; /* relative 추가 (자식 absolute 기준점) */
    cursor: pointer;
}

[data-tooltip]:hover::after {
    content: attr(data-tooltip);
    background-color: #ffffff;
    color: #333333;
    font-size: 12px;
    font-weight: 500;
    padding: 8px 12px;
    border-radius: 8px;
    border: 1px solid #e9ecef;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    white-space: nowrap;
    position: absolute;
    z-index: 1000;
    pointer-events: none;
    opacity: 0;
    animation: fadeIn 0.2s forwards;
    left: 50%;
    transform: translateX(-50%);
    
    /* 기본 위치: 요소의 아래쪽 */
    top: 100%; 
    margin-top: 8px;
}

/* 툴팁 위치 변형 */
[data-tooltip-pos="left"]:hover::after {
    left: 0;
    transform: translateX(0);
}
[data-tooltip-pos="right"]:hover::after {
    left: auto;
    right: 0;
    transform: translateX(0);
}
/* 버튼 내부 툴팁 위치 보정 */
.header-btn[data-tooltip]:hover::after,
.footer-btn[data-tooltip]:hover::after {
    /* 상황에 따라 top/bottom 조정이 필요할 수 있으나 기본적으로 아래로 통일 */
}

/* ... 기존 툴팁 코드 아래에 추가 ... */

/* [수정] 하단 푸터 버튼(.footer-btn)의 툴팁은 무조건 위로 띄우기 */
.footer-btn[data-tooltip]:hover::after {
    top: auto;          /* 기존의 아래쪽 배치 무효화 */
    bottom: 100%;       /* 요소의 위쪽 끝에 배치 */
    margin-top: 0;
    margin-bottom: 8px; /* 버튼과 툴팁 사이 간격 */
}

/* 애니메이션 */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* =========================================
   Custom SweetAlert Style (iOS / Toss Theme v5.0 Fixed)
   - 피드백 반영: 가로폭 롤백 + 수직 여백 쫀쫀하게 축소
   ========================================= */

/* 1. 컨테이너 */
.my-swal-container {
    background-color: rgba(0, 0, 0, 0.4) !important;
    backdrop-filter: blur(2px);
    z-index: 9999;
    position: absolute;   
}

/* 2. 팝업 박스 (가로폭 280px로 롤백) */
div:where(.swal2-container) div:where(.swal2-popup) {
    border-radius: 24px !important;
    background: #ffffff !important;
    padding: 24px 20px 20px 20px !important; /* 하단 패딩 살짝 줄임 */
    box-shadow: 0 10px 30px rgba(0,0,0,0.15) !important;
    
    /* [수정] 다시 280px로 줄여서 배경 여백 확보 */
    width: 280px !important; 
    
    box-sizing: border-box !important;
}

/* 3. 제목 */
.my-mini-title {
    font-size: 17px !important;
    color: var(--text-primary) !important;
    font-weight: 700 !important;
    line-height: 1.4 !important;
    
    /* 제목 아래 여백 12px (유지) */
    margin: 0 0 12px 0 !important; 
    
    padding: 0 !important;
    word-break: keep-all;
    text-align: center !important;
}

/* 4. 본문 텍스트 (나가기 확인 메시지 등) */
.my-mini-content {
    font-size: 14px !important;
    color: #6b7684 !important; 
    text-align: center !important;
    word-break: keep-all;
    line-height: 1.5 !important;
    
    /* [핵심 수정] 32px -> 20px로 확 줄임 */
    margin: 0 0 20px 0 !important; 
}

/* 5. 입력창 (Input) */
.my-swal-input {
    height: 46px !important; /* 높이도 다시 46px로 담백하게 */
    
    /* [핵심 수정] 입력창과 버튼 사이 여백을 16px로 좁힘 (쫀쫀하게) */
    margin: 0 0 16px 0 !important; 
    
    border-radius: 12px !important;
    background-color: #f9f9fb !important;
    border: 1px solid transparent !important;
    font-size: 15px !important;
    padding: 0 16px !important;
    color: var(--text-primary) !important;
    box-shadow: none !important;
    text-align: left !important;
    width: 100% !important;
    box-sizing: border-box !important;
}
.my-swal-input:focus {
    background-color: #ffffff !important;
    border-color: var(--primary-color) !important;
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1) !important;
    outline: none !important;
}

/* 6. 버튼 영역 */
div:where(.swal2-actions) {
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    display: flex !important;
    gap: 8px !important;
    justify-content: center !important;
}

/* 7. 버튼 공통 */
.my-mini-btn {
    flex: 1 !important;
    height: 48px !important; /* 버튼 높이 48px 유지 */
    border-radius: 12px !important;
    font-size: 15px !important;
    font-weight: 600 !important;
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer;
    transition: transform 0.1s;
}
.my-mini-btn:active { transform: scale(0.96); }

.my-cancel-btn { background-color: #f2f4f6 !important; color: #4e5968 !important; }
.my-confirm-btn { background-color: var(--primary-color) !important; color: #ffffff !important; }
.my-danger-btn { background-color: var(--danger-color) !important; color: #ffffff !important; }

/* 8. 유효성 검사 메시지 */
.my-validation-msg {
    align-items: center !important;
    justify-content: center !important;
    background: transparent !important;
    color: var(--danger-color) !important;
    font-size: 13px !important;
    font-weight: 500 !important;
    
    /* 좁아진 간격(16px)에 맞춰서 메시지 위치 조정 */
    margin-top: -12px !important; 
    margin-bottom: 12px !important;
    
    padding: 0 !important;
    display: flex !important;
}
.my-validation-msg::before { display: none !important; }

.my-swal-title {
    padding-bottom: 30px !important; /* 제목 아래 여백 넉넉하게 */
    letter-spacing: -0.5px; /* 자간 살짝 좁혀서 세련되게 (선택사항) */
}
